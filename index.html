<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>キャラ診断</title>
    <style>
      body{text-align: center;}
    </style>
 <body>
   <h1>キャラ診断</h1>
   <p><input type="text" id="name" value=""></p>
   <p><input type="button" id="getResult" value="診断！">
   </p>
   <h2>診断結果</h2>
   <p id = "result">こちらに結果が表示されます。</p>
   <div id ="tweet"></div>
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
   <script>
    $(function(){
        $("#getResult").click(function(){
          //名前の取得
          var name = $("#name").val();
          //console.log(name);
          if (name ===""){
            alert("名前を入力してください！");
            return;
                   }
          //タイプの生成
          var types = ["勇者","魔法使い","戦士","遊び人","スーパースター"];
          //0-nの乱数
          //Math.floor(Math.random())*4
          var type = types[Math.floor(Math.random()* types.length)];
          //キャラクターの生成
          var characters = ["賢い","勇ましい","可愛い","情けない","醜い"];
          //0-nの乱数
          //Math.floor(Math.random())*4
          var characters = characters[Math.floor(Math.random()* characters.length)];
          var result = name + "さんは「" + characters + type +　"」タイプです！";
          $("#result").text(result);
          //ツイートのリンクの表示
          var tweetLink = "<a href ='https://twitter.com/intent/tweet?text="+ encodeURIComponent(result)  + "&hashtags=dotinstall' target='_blank'>ツイートする</a>";
          $("#tweet").html(tweetLink);
        });
    });
   </script>
 </body>
</head>
</html>
